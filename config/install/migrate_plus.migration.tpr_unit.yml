status: true
dependencies:
  enforced:
    module:
      - helfi_tpr
id: tpr_unit
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - tpr
migration_group: tpr
label: 'TPR unit'
source:
  plugin: tpr
  url: 'https://www.hel.fi/palvelukarttaws/rest/v4/unit/?search=Pys%C3%A4k%C3%B6intilippuautomaatti'
  ids:
    id:
      type: string
process:
  id: id
  name:
    plugin: substr
    source: name
    start: 0
    length: 255
  changed:
    -
      plugin: format_date
      source: changed
      from_format: 'Y-m-d\TH:i:s'
      to_format: 'U'
      from_timezone: 'Europe/Helsinki'
      to_timezone: 'UTC'
    -
      plugin: entity_has_changed
      entity_type: tpr_unit
  created:
    plugin: format_date
    source: created
    from_format: 'Y-m-d\TH:i:s'
    to_format: 'U'
    from_timezone: 'Europe/Helsinki'
    to_timezone: 'UTC'
destination:
  plugin: 'tpr_unit'
migration_dependencies: []
